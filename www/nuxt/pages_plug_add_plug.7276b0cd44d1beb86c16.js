webpackJsonp([7],{"/Chh":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".uploading-image{display:-webkit-box;display:-ms-flexbox;display:flex}",""])},Rvjk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("hqm9"),r=a("f11f");var s=function(t){a("jnnV")},i=a("VU/8")(n.a,r.a,!1,s,null,null);e.default=i.exports},f11f:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{on:{keypress:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.plug_add()}}},[a("v-card-title",{staticClass:"grey lighten-4 py-4 title"},[t._v("\n      เพิ่ม Smart Plug\n      "),a("v-spacer")],1),a("v-container",{staticClass:"pa-4",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("i",{staticClass:"far fa-file-alt fa-2x",staticStyle:{color:"#757575"}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.pt_id,expression:"pt_id"}],staticClass:"form-control  minimal padding-top-mn",attrs:{placeholder:"ประเภทปลั๊ก","aria-label":"ประเภทปลั๊ก"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.pt_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:""}},[t._v("ประเภทปลั๊ก")]),t._l(t.sp_plug_type,function(e){return a("option",{key:e.pt_id,domProps:{value:e.pt_id}},[t._v("\n                "+t._s(e.pt_name)+"\n              ")])})],2)])],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{rules:[t.rules.required],counter:"",maxlength:"50","prepend-icon":"far fa-file-alt fa-2x",label:"Serial Number",placeholder:"Serial Number"},model:{value:t.p_code,callback:function(e){t.p_code=e},expression:"p_code"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-text-field",{attrs:{"prepend-icon":"far fa-file-alt fa-2x",label:"ชื่อปลั๊ก",placeholder:"ตั้งชื่อให้ปลั๊ก"},model:{value:t.p_name,callback:function(e){t.p_name=e},expression:"p_name"}})],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-textarea",{attrs:{"prepend-icon":"far fa-file-alt fa-2x",name:"input-7-1",label:"คำอธิบาย",placeholder:"อธิบายเกี่ยวกับตำแหน่งการวางปลั๊ก หรือ ลักษณะของปลั๊ก"},model:{value:t.p_des_locat,callback:function(e){t.p_des_locat=e},expression:"p_des_locat"}})],1)],1),a("v-alert",{attrs:{dismissible:"",type:t.type_api},model:{value:t.danger,callback:function(e){t.danger=e},expression:"danger"}},[t._v(t._s(t.alt_txt)+"\n        ")])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"red lighten-2"},on:{click:function(e){t.plug()}}},[a("i",{staticClass:"fas fa-arrow-circle-left fa-2x"})]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"green lighten-2"},on:{click:function(e){t.plug_add()}}},[a("i",{staticClass:"fas fa-save fa-2x"}),t._v("  บันทึก")])],1)],1)},staticRenderFns:[]};e.a=n},hqm9:function(t,e,a){"use strict";var n=a("Xxa5"),r=a.n(n),s=a("exGp"),i=a.n(s);e.a={layout:"non",data:function(){return{sp_plug_type:"",p_code:"",p_name:"",p_des_locat:"",pt_id:"",pt_port_count:"",u_id:sessionStorage.getItem("u_id"),danger:"",type_api:"",alt_txt:"",alt:!1,rules:{required:function(t){return!!t||"ห้ามว่าง."}}}},created:function(){var t=i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.load_sp_plug_type();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{plug_add:function(){var t=i()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.p_code&&""==this.u_id){t.next=7;break}return t.next=3,this.$http.post("sp_plug/plug_add",{p_code:this.p_code,p_name:this.p_name,p_des_locat:this.p_des_locat,pt_id:this.pt_id,u_id:this.u_id});case 3:1==(e=t.sent).data.ok?(this.danger=!0,this.alt_txt=e.data.txt,this.type_api=e.data.alt,this.plug()):(this.danger=!0,this.alt_txt=e.data.txt,this.type_api=e.data.alt),t.next=8;break;case 7:this.danger=!0,this.alt_txt="กรุณากรอกข้อมูลให้ครบ",this.type_api="error";case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),load_sp_plug_type:function(){var t=i()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/sp_plug/sp_plug_type");case 2:e=t.sent,this.sp_plug_type=e.data.datas;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),plug:function(){this.$router.push({name:"plug-shplugs"})}}}},jnnV:function(t,e,a){var n=a("/Chh");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("4b6d8638",n,!0,{sourceMap:!1})}});