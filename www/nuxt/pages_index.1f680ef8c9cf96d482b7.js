webpackJsonp([8],{"/TYz":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("olUq"),n=a("tn0h"),r=a("VU/8")(s.a,n.a,!1,null,null,null);t.default=r.exports},Lp5w:function(e,t,a){e.exports=a.p+"img/smp.a5d19a4.png"},olUq:function(e,t,a){"use strict";var s=a("Xxa5"),n=a.n(s),r=a("exGp"),i=a.n(r);t.a={layout:"null",data:function(){return{loading:!1,username:"",password:"",type_api:"",danger:!1,alt_txt:"",rules:{required:function(e){return!!e||"ห้ามว่าง."}}}},methods:{move:function(){this.$router.replace({path:"/plug/sh_plugs"})},regist:function(){this.$router.replace({name:"users-adduser"})},fnc_login:function(){var e=i()(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.username||""==this.password){e.next=9;break}return this.loading=!0,e.next=4,this.$http.post("login/",{username:this.username,password:this.password});case 4:(t=e.sent).data&&(this.loading=!1),1==t.data.ok?(t.data.u_type="สมาชิก")&&(console.log("if"),sessionStorage.setItem("u_id",t.data.datas.u_id),sessionStorage.setItem("u_fullname",t.data.datas.u_fullname),sessionStorage.setItem("u_username",t.data.datas.u_username),sessionStorage.setItem("u_password",t.data.datas.u_password),sessionStorage.setItem("u_type",t.data.datas.u_type),this.$router.push({path:"/plug/sh_plugs"})):(this.type_api="error",this.danger=!0,this.alt_txt=t.data.message),e.next=10;break;case 9:this.type_api="error",this.danger=!0,this.alt_txt="กรุณากรอกข้อมูล";case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}},tn0h:function(e,t,a){"use strict";var s={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-app",{staticClass:"lime lighten-1",attrs:{id:""}},[s("v-content",[s("v-container",{on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.fnc_login()}}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{staticClass:"padding-top-mx",attrs:{xs12:"",sm8:"",md4:""}},[s("v-alert",{attrs:{dismissible:"",type:e.type_api},model:{value:e.danger,callback:function(t){e.danger=t},expression:"danger"}},[e._v("\n                "+e._s(e.alt_txt)+"\n              ")]),s("v-card-text",[s("center",[s("img",{staticClass:"icon_login",attrs:{src:a("Lp5w")}})]),s("v-toolbar-title",{staticStyle:{"text-align":"center"}},[s("h3",[e._v("เข้าสู่ระบบ")])]),s("v-form",[s("v-text-field",{attrs:{rules:[e.rules.required],"prepend-icon":"person",name:"username",label:"ชื่อผู้ใช้",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{rules:[e.rules.required],"prepend-icon":"lock",name:"password",label:"รหัสผ่าน",id:"password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("v-card-actions",[s("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:"",sm12:"",md12:""}},[s("v-btn",{staticStyle:{color:"#fff","font-size":"18px"},attrs:{color:"orange darken-2",block:""},on:{click:function(t){e.fnc_login()}}},[s("v-spacer"),e._v("\n                   เข้าสู่ระบบ\n                   "),s("v-spacer"),1==e.loading?s("v-progress-circular",{attrs:{size:25,color:"white",indeterminate:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}):e._e()],1),s("br")],1)],1),s("center",[s("v-flex",{staticStyle:{"text-align":"center"},attrs:{sm6:"",xs6:""}},[s("v-btn",{staticStyle:{color:"#fff","font-size":"18px"},attrs:{flat:"",block:""},on:{click:function(t){e.regist()}}},[s("v-spacer"),s("u",[e._v("ลงทะเบียนใช้งาน")]),s("v-spacer"),1==e.loading?s("v-progress-circular",{attrs:{size:25,color:"white",indeterminate:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}):e._e()],1),s("br")],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};t.a=s}});